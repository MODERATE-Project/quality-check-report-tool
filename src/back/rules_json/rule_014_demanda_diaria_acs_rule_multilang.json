{
  "id": "rule_014",
  "type": "business_rule",
  "category": "common_rules",
  "name": "Demanda diaria de ACS",
  "severity": "Error",
  "class": "DemandaDiariaACSRule",
  "description": "Verifica que la demanda diaria de ACS se corresponda con el número de dormitorios y viviendas según el CTE.",
  "parameters": {
    "DemandaDiariaACS": "/DatosGeneralesyGeometria/DemandaDiariaACS",
    "xpath_tipo_edificio": "/IdentificacionEdificio/TipoDeEdificio",
    "values": ["ViviendaUnifamiliar", "BloqueDeViviendaCompleto", "ViviendaIndividualEnBloque"],
    "messages": {
      "missing_field": {
        "es": "No se especifica la demanda diaria de ACS en el XML.",
        "en": "The daily ACS demand is not specified in the XML."
      },
      "not_numeric": {
        "es": "La demanda de ACS '{value}' no es un valor numérico.",
        "en": "The ACS demand '{value}' is not a numeric value."
      },
      "missing_answer": {
        "es": "No se ha recibido respuesta del usuario.",
        "en": "No user answer received."
      },
      "invalid_input": {
        "es": "La respuesta del usuario no es un número entero.",
        "en": "User input is not a valid integer."
      },
      "invalid": {
        "es": "La demanda de ACS ({real} L/día) no concuerda con la esperada ({expected} ±10%).",
        "en": "The ACS demand ({real} L/day) does not match the expected ({expected} ±10%)."
      },
      "valid": {
        "es": "La demanda de ACS real es válida: {real} L/día.",
        "en": "The real ACS demand is valid: {real} L/day."
      }
    },
    "details": {
      "invalid": {
        "es": {
          "demanda_real": "{real}",
          "demanda_esperada": "{expected}"
        },
        "en": {
          "actual_demand": "{real}",
          "expected_demand": "{expected}"
        }
      },
      "valid": {
        "es": {
          "demanda_validada": "{real}"
        },
        "en": {
          "validated_demand": "{real}"
        }
      }
    }
  }
}
